<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Rephrasing Quiz — A2→B2+</title>
  <style>
    :root{--bg:#0f172a;--card:#0b1220;--accent:#7dd3fc;--muted:#94a3b8;--correct:#10b981;--wrong:#fb7185}
    html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,'Segoe UI',Roboto,'Helvetica Neue',Arial;color:#e6eef8;background:linear-gradient(180deg,#071027 0%, #071a2d 100%);}
    .wrap{max-width:900px;margin:28px auto;padding:22px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:12px;box-shadow:0 6px 30px rgba(2,6,23,0.6);}
    h1{margin:0 0 10px;font-size:20px;color:var(--accent)}
    p.lead{margin:0 0 18px;color:var(--muted)}
    .q{background:var(--card);padding:14px;border-radius:8px;margin:12px 0;border:1px solid rgba(255,255,255,0.02)}
    .q h3{margin:0 0 8px;font-size:16px}
    .opts{display:flex;flex-direction:column;gap:8px}
    .opt{background:transparent;border:1px solid rgba(255,255,255,0.04);padding:10px;border-radius:8px;color:#dbeafe;cursor:pointer;display:flex;gap:12px;align-items:flex-start}
    .opt:hover{border-color:rgba(125,211,252,0.16);}
    .opt.selected{border-color:var(--accent);background:rgba(125,211,252,0.03)}
    button.primary{background:var(--accent);border:0;padding:10px 14px;border-radius:8px;color:#031025;cursor:pointer;font-weight:600}
    .results{margin-top:16px;padding:12px;border-radius:8px;background:#021725;color:#cdeafc}
    .explain{margin-top:8px;padding:10px;border-radius:6px;background:rgba(255,255,255,0.02);color:var(--muted)}
    .correct{border-left:4px solid var(--correct)}
    .wrong{border-left:4px solid var(--wrong)}
    footer{margin-top:18px;color:var(--muted);font-size:13px}
    .meta{display:flex;gap:10px;flex-wrap:wrap}
    @media (max-width:640px){.wrap{margin:12px;padding:16px}} 
  </style>
</head>
<body>
  <main class="wrap">
    <header>
      <h1>Rephrasing Quiz — A2 → B2+</h1>
      <p class="lead">Choose the option (A, B or C) that has the same meaning as the sentence above. There are 10 questions. When you finish. مشعل الرزقي, press <strong>Submit</strong> to see your score and explanations.</p>
    </header>
    <form id="quiz">
    </form>
    <div style="display:flex;gap:10px;margin-top:12px;">
      <button id="submitBtn" class="primary">Submit</button>
      <button id="resetBtn" type="button">Reset</button>
    </div>
    <div id="result" class="results" style="display:none"></div>
    <footer>
      <div class="meta">Designed for practice — mimics Linguaskill reading paraphrase tasks.</div>
    </footer>
  </main>

  <script>
    const QUESTIONS = [
      {
        q: `The new library will be closed for renovation from Monday to Thursday next week, but it will open again on Friday morning.`,
        options: [
          `The library will stay open every day next week.`,
          `The library won’t be open from Monday to Thursday next week.`,
          `The library will close completely starting Friday.`
        ],
        answer: 1,
        explain: `Correct answer (B). The original sentence says the library is closed Monday–Thursday and opens Friday; option B matches that meaning.`
      },
      {
        q: `I planned to visit my grandparents last weekend, but my car broke down, so I couldn’t go.`,
        options: [
          `I didn’t visit my grandparents because my car wasn’t working.`,
          `I went to see my grandparents even though my car broke down.`,
          `I fixed my car before visiting my grandparents.`
        ],
        answer: 0,
        explain: `Correct answer (A). The sentence explains inability to visit due to car trouble; option A expresses the same reason.`
      },
      {
        q: `Students are required to submit their assignments before 5 p.m. on Friday; any work sent after that will not be accepted.`,
        options: [
          `Assignments can be submitted anytime after Friday evening.`,
          `Only assignments sent before Friday at 5 p.m. will be accepted.`,
          `Students don’t need to submit their assignments on Friday.`
        ],
        answer: 1,
        explain: `Correct answer (B). The sentence sets a deadline: before 5pm Friday; option B restates this restriction.`
      },
      {
        q: `When I arrived at the airport, I realized I had left my passport at home and couldn’t board the plane.`,
        options: [
          `I forgot my passport, so I couldn’t take my flight.`,
          `I remembered my passport just in time for my flight.`,
          `I arrived late because the flight was delayed.`
        ],
        answer: 0,
        explain: `Correct answer (A). The speaker left their passport at home and therefore missed boarding; option A conveys that.`
      },
      {
        q: `Although the movie was long, it was very entertaining, and everyone in the cinema enjoyed it until the end.`,
        options: [
          `The movie was boring, and most people left before it ended.`,
          `The movie was long but enjoyable for all the viewers.`,
          `No one liked the movie because it was too long.`
        ],
        answer: 1,
        explain: `Correct answer (B). Despite being long, the film was entertaining and enjoyed by everyone — option B matches.`
      },
      {
        q: `By the time Sarah finished cooking dinner, her guests had already arrived and were waiting in the living room.`,
        options: [
          `Sarah’s guests arrived before she finished making dinner.`,
          `Sarah started cooking after her guests left.`,
          `Sarah finished cooking before the guests arrived.`
        ],
        answer: 0,
        explain: `Correct answer (A). "Had already arrived" indicates guests arrived earlier; option A restates that.`
      },
      {
        q: `If I had studied harder for the exam, I might have passed it instead of failing.`,
        options: [
          `I passed the exam easily because I studied a lot.`,
          `I didn’t study enough, so I failed the exam.`,
          `I didn’t take the exam because I was sick.`
        ],
        answer: 1,
        explain: `Correct answer (B). The conditional expresses regret: not studying enough led to failing; option B matches.`
      },
      {
        q: `The company has decided to increase employees’ salaries starting next month to motivate them to work harder.`,
        options: [
          `Workers will receive higher pay beginning next month.`,
          `The company reduced salaries for all employees.`,
          `Salaries will stay the same for another year.`
        ],
        answer: 0,
        explain: `Correct answer (A). The company will raise pay starting next month; option A restates that.`
      },
      {
        q: `We couldn’t go hiking yesterday because the weather was too bad, so we stayed home and watched movies instead.`,
        options: [
          `The weather was fine, so we went hiking.`,
          `The weather stopped us from going hiking yesterday.`,
          `We went hiking before it started raining.`
        ],
        answer: 1,
        explain: `Correct answer (B). The bad weather prevented hiking; option B restates this.`
      },
      {
        q: `I told my friend I would help him with his project after I finished my own work, but I forgot to call him later.`,
        options: [
          `I promised to help my friend after my work but didn’t contact him.`,
          `I helped my friend before finishing my own project.`,
          `My friend helped me finish my project on time.`
        ],
        answer: 0,
        explain: `Correct answer (A). The speaker promised help but failed to call; option A reflects that.`
      }
    ];

    const form = document.getElementById('quiz');
    QUESTIONS.forEach((item, idx) => {
      const qBox = document.createElement('div');
      qBox.className = 'q';
      const h = document.createElement('h3');
      h.textContent = `${idx+1}. ${item.q}`;
      qBox.appendChild(h);
      const opts = document.createElement('div');
      opts.className = 'opts';
      item.options.forEach((opt, i) => {
        const button = document.createElement('button');
        button.type = 'button';
        button.className = 'opt';
        button.dataset.q = idx;
        button.dataset.opt = i;
        button.innerHTML = `<strong>${String.fromCharCode(65+i)}.</strong> <span style="flex:1">${opt}</span>`;
        button.addEventListener('click', (e)=>{
          // deselect siblings
          const parent = e.currentTarget.parentElement;
          [...parent.children].forEach(ch=>ch.classList.remove('selected'));
          e.currentTarget.classList.add('selected');
        });
        opts.appendChild(button);
      });
      qBox.appendChild(opts);
      form.appendChild(qBox);
    });

    document.getElementById('submitBtn').addEventListener('click', (e)=>{
      e.preventDefault();
      const selections = [];
      const qBoxes = document.querySelectorAll('.q');
      let score = 0;
      qBoxes.forEach((qBox, idx) => {
        const selected = qBox.querySelector('.opt.selected');
        const r = {selected: selected ? parseInt(selected.dataset.opt) : null};
        selections.push(r);
        const correctIndex = QUESTIONS[idx].answer;
        // mark visuals
        qBox.classList.remove('correct','wrong');
        if(selected){
          const selIndex = parseInt(selected.dataset.opt);
          if(selIndex === correctIndex){ score++; qBox.classList.add('correct'); }
          else { qBox.classList.add('wrong'); }
        } else { qBox.classList.add('wrong'); }
        // show explanation under question
        const ex = document.createElement('div');
        ex.className = 'explain';
        ex.innerHTML = `<strong>Answer: ${String.fromCharCode(65+correctIndex)}.</strong> ${QUESTIONS[idx].explain}`;
        // remove existing explains
        const existing = qBox.querySelector('.explain'); if(existing) existing.remove();
        qBox.appendChild(ex);
      });

      const resultBox = document.getElementById('result');
      resultBox.style.display = 'block';
      resultBox.innerHTML = `<strong>Your score: ${score} / ${QUESTIONS.length}</strong><div style="margin-top:8px;color:var(--muted)">Click Reset to try again.</div>`;
      window.scrollTo({top:0,behavior:'smooth'});
    });

    document.getElementById('resetBtn').addEventListener('click', ()=>{
      document.querySelectorAll('.opt.selected').forEach(el=>el.classList.remove('selected'));
      document.querySelectorAll('.explain').forEach(el=>el.remove());
      document.getElementById('result').style.display = 'none';
      document.getElementById('result').innerHTML = '';
    });
  </script>
</body>
</html>